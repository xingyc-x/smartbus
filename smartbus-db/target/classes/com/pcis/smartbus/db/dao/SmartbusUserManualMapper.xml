<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pcis.smartbus.db.dao.SmartbusUserMapper">

    <select id= "selectByUserName" resultMap= "BaseResultMap">
        SELECT * FROM smartbus_user WHERE user_name = #{userName}
    </select>

    <select id= "getUserNum" resultType="java.lang.Integer">
        SELECT COUNT(id) FROM smartbus_user;
    </select>

    <select id= "getAPageUserDesc" resultMap= "BaseResultMap">
        SELECT * FROM smartbus_user ORDER BY ${sortBy} DESC LIMIT ${startNo},${pageSize};
    </select>

    <select id= "getAPageUserAsc" resultMap= "BaseResultMap">
        SELECT * FROM smartbus_user ORDER BY ${sortBy} LIMIT ${startNo},${pageSize};
    </select>

    <select id= "getAPageUserByNameSearch" resultMap= "BaseResultMap">
        <if test="direction == 'desc'">
            SELECT * FROM smartbus_user WHERE real_name LIKE #{searchContent} ORDER BY ${sortBy} DESC LIMIT ${startNo},${pageSize};
        </if>
        <if test="direction == 'asc'">
            SELECT * FROM smartbus_user WHERE real_name LIKE #{searchContent} ORDER BY ${sortBy} LIMIT ${startNo},${pageSize};
        </if>
    </select>

    <select id= "getAPageUserByCapacity" resultMap= "BaseResultMap">
        <if test="direction == 'desc'">
            SELECT * FROM smartbus_user WHERE capacity = ${capacity} ORDER BY ${sortBy} DESC LIMIT ${startNo},${pageSize};
        </if>
        <if test="direction == 'asc'">
            SELECT * FROM smartbus_user WHERE capacity = ${capacity} ORDER BY ${sortBy} LIMIT ${startNo},${pageSize};
        </if>
    </select>

</mapper>